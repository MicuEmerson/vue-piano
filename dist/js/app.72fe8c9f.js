(function(e){function t(t){for(var s,i,r=t[0],l=t[1],c=t[2],d=0,p=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],s=!0,r=1;r<o.length;r++){var l=o[r];0!==n[l]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var s={},n={app:0},a=[];function i(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=s,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(o,s,function(t){return e[t]}.bind(null,s));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("3ebb")},"3ebb":function(e,t,o){var s=o("e31a");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=o("499e").default;n("517436b3",s,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var s=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("h1",[e._v(" Vue Piano Component ")]),o("section",{staticClass:"config-container"},[e._m(0),o("div",{staticClass:"config-elem"},[o("div",{staticClass:"config-elem-cell"},[o("div",[e._v(" All keys: ")]),o("textarea",{staticStyle:{"margin-top":"1.5%"},attrs:{rows:"2",cols:"60",placeholder:"add keys followed by semicolumns (e.g: a,s,d...)"},domProps:{value:e.allKeys},on:{change:e.handleAllKeysChanges}})])]),o("div",{staticClass:"config-elem"},[o("div",{staticClass:"config-elem-cell"},[o("label",[e._v(" Show Keys: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.showKeys,expression:"showKeys"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showKeys)?e._i(e.showKeys,null)>-1:e.showKeys},on:{change:function(t){var o=e.showKeys,s=t.target,n=!!s.checked;if(Array.isArray(o)){var a=null,i=e._i(o,a);s.checked?i<0&&(e.showKeys=o.concat([a])):i>-1&&(e.showKeys=o.slice(0,i).concat(o.slice(i+1)))}else e.showKeys=n}}})]),o("div",{staticClass:"config-elem-cell"},[o("label",[e._v(" Show Notes: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.showNotes,expression:"showNotes"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showNotes)?e._i(e.showNotes,null)>-1:e.showNotes},on:{change:function(t){var o=e.showNotes,s=t.target,n=!!s.checked;if(Array.isArray(o)){var a=null,i=e._i(o,a);s.checked?i<0&&(e.showNotes=o.concat([a])):i>-1&&(e.showNotes=o.slice(0,i).concat(o.slice(i+1)))}else e.showNotes=n}}})]),o("div",{staticClass:"config-elem-cell"},[o("label",[e._v(" Sustain: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.sustain,expression:"sustain"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.sustain)?e._i(e.sustain,null)>-1:e.sustain},on:{change:function(t){var o=e.sustain,s=t.target,n=!!s.checked;if(Array.isArray(o)){var a=null,i=e._i(o,a);s.checked?i<0&&(e.sustain=o.concat([a])):i>-1&&(e.sustain=o.slice(0,i).concat(o.slice(i+1)))}else e.sustain=n}}})])]),o("div",{staticClass:"config-elem"},[o("div",{staticClass:"config-elem-cell"},[o("label",[e._v(" White Note Color: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.whiteNoteColor,expression:"whiteNoteColor"}],attrs:{type:"color"},domProps:{value:e.whiteNoteColor},on:{input:function(t){t.target.composing||(e.whiteNoteColor=t.target.value)}}})]),o("div",{staticClass:"config-elem-cell"},[o("label",[e._v(" Black Note Color: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.blackNoteColor,expression:"blackNoteColor"}],attrs:{type:"color"},domProps:{value:e.blackNoteColor},on:{input:function(t){t.target.composing||(e.blackNoteColor=t.target.value)}}})])]),o("div",{staticClass:"config-elem"},[o("div",{staticClass:"config-elem-cell"},[o("label",[e._v(" Start Octave ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.startOctave,expression:"startOctave"}],attrs:{min:"1",max:"8",type:"number"},domProps:{value:e.startOctave},on:{input:function(t){t.target.composing||(e.startOctave=t.target.value)}}})]),o("div",{staticClass:"config-elem-cell"},[o("label",[e._v(" End Octave: ")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.endOctave,expression:"endOctave"}],attrs:{min:"1",max:"8",type:"number"},domProps:{value:e.endOctave},on:{input:function(t){t.target.composing||(e.endOctave=t.target.value)}}})])])]),o("section",{staticClass:"piano-container"},[o("PianoKeyboard",{attrs:{showKeys:e.showKeys,showNotes:e.showNotes,sustain:e.sustain,whiteNoteColor:e.whiteNoteColor,blackNoteColor:e.blackNoteColor,startOctave:e.startOctave,endOctave:e.endOctave,allKeys:e.allKeys}})],1)])},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",[e._v(" Configuration ")])])}],i=(o("d81d"),o("ac1f"),o("1276"),o("498a"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"piano-keyboard"},e._l(e.notes,(function(t){return o("div",{key:t.note,staticClass:"white-note",class:[t.pressed?"white-note-pressed":""],style:{width:e.whiteNoteWidthSize+"%",background:e.whiteNoteBackground(t.pressed)},on:{mousedown:function(o){return e.playNoteMouse(t)},mouseup:function(o){return e.removePressedKeyMouse(t)},mouseover:function(o){return e.playNoteHover(t)},mouseleave:function(o){return e.removePressedKey(t)}}},[t.blackNote?o("div",{staticClass:"black-note",class:[t.blackNote.pressed?"black-note-pressed":""],style:{background:e.blackNoteBackground(t.blackNote.pressed)},on:{mousedown:function(o){return o.stopPropagation(),e.playNoteMouse(t.blackNote)},mouseup:function(o){return o.stopPropagation(),e.removePressedKeyMouse(t.blackNote)},mouseover:function(o){return o.stopPropagation(),e.playNoteHover(t.blackNote)},mouseleave:function(o){return o.stopPropagation(),e.removePressedKey(t.blackNote)}}},[o("div",{staticClass:"key-group unselectable"},[e.showKeys?o("div",{staticClass:"key-input"},[e._v(" "+e._s(t.blackNote.key)+" ")]):e._e(),e.showNotes?o("div",{staticClass:"key-text key-text-on-black-note"},[e._v(" "+e._s(t.blackNote.note)+" ")]):e._e()])]):e._e(),o("div",{staticClass:"key-group unselectable"},[e.showKeys?o("div",{staticClass:"key-input"},[e._v(" "+e._s(t.key)+" ")]):e._e(),e.showNotes?o("div",{staticClass:"key-text"},[e._v(" "+e._s(t.note)+" ")]):e._e()])])})),0)}),r=[],l=(o("a9e3"),o("5e54")),c={data:function(){return{synth:null,notesIndexesByKey:{},notes:[],allNotes:["C","D","E","F","G","A","B"],whiteNoteWidthSize:0,isMousePressed:!1}},props:{allKeys:{type:Array,default:function(){return["`","1","2","3","4","5","6","7","8","9","0","-","=","q","w","e","r","t","y","u","i","o","p","[","]","\\","a","s","d","f","g","h","j","k","l",";","z","x","c","v","b","n","m",",","."]}},whiteNoteColor:{type:String,default:"#1eb7eb"},blackNoteColor:{type:String,default:"#f9bb2d"},showKeys:{type:Boolean,default:!1},showNotes:{type:Boolean,default:!1},startOctave:{type:Number,default:2},endOctave:{type:Number,default:4},sustain:{type:Boolean,default:!1}},watch:{startOctave:function(e){this.startOctave=e,this.regenerate()},endOctave:function(e){this.endOctave=e,this.regenerate()},allKeys:function(e){this.allKeys=e,this.regenerate()}},created:function(){var e=this;this.synth=(new l["a"]).toDestination(),this.generateNotes(),this.generateNotesIndexesByKey(),window.addEventListener("keydown",(function(t){var o=t.key,s=e.notesIndexesByKey[o];if(void 0!=s){var n=e.notes[s].key===o?e.notes[s]:e.notes[s].blackNote;e.playNote(n)}})),window.addEventListener("keyup",(function(t){var o=t.key,s=e.notesIndexesByKey[o];if(void 0!=s){var n=e.notes[s].key===o?e.notes[s]:e.notes[s].blackNote;e.removePressedKey(n)}})),window.onmouseup=function(){e.isMousePressed=!1}},destroyed:function(){window.removeEventListener("keydown",(function(){})),window.removeEventListener("keyup",(function(){})),window.removeEventListener("onmouseup",(function(){}))},methods:{playNote:function(e){e.pressed||(this.synth.triggerAttackRelease(e.note,this.sustain?"2n":"8n"),e.pressed=!0)},playNoteMouse:function(e){this.isMousePressed=!0,this.playNote(e)},playNoteHover:function(e){this.isMousePressed&&this.playNote(e)},removePressedKey:function(e){e.pressed=!1},removePressedKeyMouse:function(e){this.isMousePressed=!1,this.removePressedKey(e)},whiteNoteBackground:function(e){return e?this.whiteNoteColor:"linear-gradient(to bottom, #eee 0%, #fff 100%)"},blackNoteBackground:function(e){return e?this.blackNoteColor:"linear-gradient(45deg, #555, #222)"},generateNotes:function(){var e=0,t=0;this.notes.length=0;for(var o=this.startOctave;o<=this.endOctave;o++){while(t<this.allNotes.length){var s=this.allNotes[t],n={note:s+o,key:this.allKeys[e++],pressed:!1};if("B"!==s&&"E"!==s){var a={note:s+"#"+o,key:this.allKeys[e++],pressed:!1};n["blackNote"]=a}if(this.notes.push(n),o===this.endOctave&&"B"===s)break;t++}t=0}this.whiteNoteWidthSize=100/this.notes.length},generateNotesIndexesByKey:function(){this.notesIndexesByKey={};for(var e=0;e<this.notes.length;e++)this.notesIndexesByKey[this.notes[e].key]=e,void 0!=this.notes[e].blackNote&&(this.notesIndexesByKey[this.notes[e].blackNote.key]=e)},regenerate:function(){this.generateNotes(),this.generateNotesIndexesByKey()}}},u=c,d=(o("73b2"),o("2877")),p=Object(d["a"])(u,i,r,!1,null,null,null),h=p.exports,v={name:"App",data:function(){return{whiteNoteColor:"#1eb7eb",blackNoteColor:"#f9bb2d",showKeys:!1,showNotes:!1,sustain:!1,startOctave:2,endOctave:4,allKeys:["`","1","2","3","4","5","6","7","8","9","0","-","=","q","w","e","r","t","y","u","i","o","p","[","]","\\","a","s","d","f","g","h","j","k","l",";","z","x","c","v","b","n","m",",","."]}},components:{PianoKeyboard:h},methods:{handleAllKeysChanges:function(e){this.allKeys=e.srcElement.value.split(",").map((function(e){return e.trim()}))}}},f=v,y=(o("034f"),Object(d["a"])(f,n,a,!1,null,null,null)),m=y.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(m)}}).$mount("#app")},7383:function(e,t,o){var s=o("24fb");t=s(!1),t.push([e.i,".piano-keyboard{position:relative;height:100%;width:100%}.white-note{display:flex;justify-content:center;float:left;position:relative;cursor:pointer;color:#000;height:98%;border-radius:0 0 5px 5px;box-shadow:inset 0 0 0 hsla(0,0%,100%,.8),inset -2px -5px 3px #ccc,0 0 3px rgba(0,0,0,.5)}.white-note-pressed{box-shadow:inset 2px 0 3px rgba(0,0,0,.2),inset -5px -1px 20px rgba(0,0,0,.2),0 0 3px rgba(0,0,0,.5)}.black-note{display:flex;align-items:flex-end;justify-content:center;position:absolute;cursor:pointer;height:65%;width:65%;left:68%;z-index:1;color:#fff;border-radius:0 0 3px 3px;box-shadow:inset -1px -1px 2px hsla(0,0%,100%,.2),inset 0 -5px 2px rgba(0,0,0,.5),0 2px 4px rgba(0,0,0,.5)}.black-note-pressed{box-shadow:inset -1px -1px 2px hsla(0,0%,100%,.2),inset 0 -1px 2px rgba(0,0,0,.2),0 1px 2px rgba(0,0,0,.2)}.key-group{align-self:flex-end;display:flex;flex-direction:column;align-items:center;margin-bottom:.8vw;font-size:1.2vw}.key-text{margin-top:.8vw}.key-text-on-black-note{transform:rotate(-90deg);margin:.8vw 0;margin-top:1vw}.key-input{text-align:center;width:2em;color:inherit;font-size:1vw}.unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}",""]),e.exports=t},"73b2":function(e,t,o){"use strict";o("b6b9")},b6b9:function(e,t,o){var s=o("7383");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var n=o("499e").default;n("69d82ba6",s,!0,{sourceMap:!1,shadowMode:!1})},e31a:function(e,t,o){var s=o("24fb");t=s(!1),t.push([e.i,"*{-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;box-sizing:border-box}#app{font-family:Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;display:flex;padding:5%;justify-content:space-between;flex-direction:column;height:inherit}body,html{width:100%;height:100%;margin:0;padding:0}.piano-container{margin-left:8%;margin-right:8%;height:30%}.config-container{text-align:left;display:flex;justify-content:space-between;flex-direction:column;height:40%;width:60%;padding-left:6%}.config-elem{display:flex;justify-content:flex-start}.config-elem-cell{margin-right:5%}",""]),e.exports=t}});
//# sourceMappingURL=app.72fe8c9f.js.map