(function(e){function t(t){for(var n,i,a=t[0],l=t[1],u=t[2],p=0,d=[];p<a.length;p++)i=a[p],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,a=1;a<o.length;a++){var l=o[a];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="vue-piano/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=l;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("3ebb")},"3ebb":function(e,t,o){var n=o("e31a");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=o("499e").default;s("517436b3",n,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("h1",[e._v(" Vue Piano Component ")]),e._m(0),o("div",{staticStyle:{height:"300px"}},[o("PianoKeyboard")],1)])},r=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"config-container"},[o("h2",[e._v(" Configuration ")]),o("div",[e._v(" #todo ")])])}],i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"piano-keyboard"},e._l(e.notes,(function(t){return o("div",{key:t.note,staticClass:"white-note",class:[t.pressed?"white-note-pressed":""],style:{width:e.whiteNoteWidthSize+"%",background:e.whiteNoteBackground(t.pressed)},on:{mousedown:function(o){return e.playNoteMouse(t)},mouseup:function(o){return e.removePressedKeyMouse(t)},mouseover:function(o){return e.playNoteHover(t)},mouseleave:function(o){return e.removePressedKey(t)}}},[t.blackNote?o("div",{staticClass:"black-note",class:[t.blackNote.pressed?"black-note-pressed":""],style:{background:e.blackNoteBackground(t.blackNote.pressed)},on:{mousedown:function(o){return o.stopPropagation(),e.playNoteMouse(t.blackNote)},mouseup:function(o){return o.stopPropagation(),e.removePressedKeyMouse(t.blackNote)},mouseover:function(o){return o.stopPropagation(),e.playNoteHover(t.blackNote)},mouseleave:function(o){return o.stopPropagation(),e.removePressedKey(t.blackNote)}}},[o("div",{staticClass:"key-group unselectable"},[e.showKeys?o("div",{staticClass:"key-input"},[e._v(" "+e._s(t.blackNote.key)+" ")]):e._e(),e.showNotes?o("div",{staticClass:"key-text key-text-on-black-note"},[e._v(" "+e._s(t.blackNote.note)+" ")]):e._e()])]):e._e(),o("div",{staticClass:"key-group unselectable"},[e.showKeys?o("div",{staticClass:"key-input"},[e._v(" "+e._s(t.key)+" ")]):e._e(),e.showNotes?o("div",{staticClass:"key-text"},[e._v(" "+e._s(t.note)+" ")]):e._e()])])})),0)},a=[],l=(o("a9e3"),o("5e54")),u={data:function(){return{synth:{type:l["a"],default:null},notesIndexesByKey:{type:Object,default:{}},notes:[],allNotes:["C","D","E","F","G","A","B"],whiteNoteWidthSize:{type:Number,default:0},isMousePressed:{type:Boolean,default:!1}}},props:{allKeys:{type:Array,default:function(){return["`","1","2","3","4","5","6","7","8","9","0","-","=","q","w","e","r","t","y","u","i","o","p","[","]","\\","a","s","d","f","g","h","j","k","l",";","z","x","c","v","b","n","m",",","."]}},whiteNoteColor:{type:String,default:"#1eb7eb"},blackNoteColor:{type:String,default:"#f9bb2d"},showKeys:{type:Boolean,default:!1},showNotes:{type:Boolean,default:!1},startOctave:{type:Number,default:2},endOctave:{type:Number,default:4},sustain:{type:Boolean,default:!1}},created:function(){var e=this;this.synth=(new l["a"]).toDestination(),this.generateNotes(),this.generateNotesIndexesByKey(),window.addEventListener("keydown",(function(t){var o=t.key,n=e.notesIndexesByKey[o];if(void 0!=n){var s=e.notes[n].key===o?e.notes[n]:e.notes[n].blackNote;e.playNote(s)}})),window.addEventListener("keyup",(function(t){var o=t.key,n=e.notesIndexesByKey[o];if(void 0!=n){var s=e.notes[n].key===o?e.notes[n]:e.notes[n].blackNote;e.removePressedKey(s)}})),window.onmouseup=function(){e.isMousePressed=!1}},destroyed:function(){window.removeEventListener("keydown",(function(){})),window.removeEventListener("keyup",(function(){})),window.removeEventListener("onmouseup",(function(){}))},methods:{playNote:function(e){e.pressed||(this.synth.triggerAttackRelease(e.note,this.sustain?"2n":"8n"),e.pressed=!0)},playNoteMouse:function(e){this.isMousePressed=!0,this.playNote(e)},playNoteHover:function(e){this.isMousePressed&&this.playNote(e)},removePressedKey:function(e){e.pressed=!1},removePressedKeyMouse:function(e){this.isMousePressed=!1,this.removePressedKey(e)},whiteNoteBackground:function(e){return e?this.whiteNoteColor:"linear-gradient(to bottom, #eee 0%, #fff 100%)"},blackNoteBackground:function(e){return e?this.blackNoteColor:"linear-gradient(45deg, #555, #222)"},generateNotes:function(){var e=0,t=0;this.notes.length=0;for(var o=this.startOctave;o<=this.endOctave;o++){while(t<this.allNotes.length){var n=this.allNotes[t],s={note:n+o,key:this.allKeys[e++],pressed:!1};if("B"!==n&&"E"!==n){var r={note:n+"#"+o,key:this.allKeys[e++],pressed:!1};s["blackNote"]=r}if(this.notes.push(s),o===this.endOctave&&"B"===n)break;t++}t=0}this.whiteNoteWidthSize=100/this.notes.length},generateNotesIndexesByKey:function(){this.notesIndexesByKey.length=0;for(var e=0;e<this.notes.length;e++)this.notesIndexesByKey[this.notes[e].key]=e,void 0!=this.notes[e].blackNote&&(this.notesIndexesByKey[this.notes[e].blackNote.key]=e)}}},c=u,p=(o("73b2"),o("2877")),d=Object(p["a"])(c,i,a,!1,null,null,null),f=d.exports,h={name:"App",components:{PianoKeyboard:f}},y=h,b=(o("034f"),Object(p["a"])(y,s,r,!1,null,null,null)),v=b.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(v)}}).$mount("#app")},7383:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,".piano-keyboard{position:relative;height:100%;width:100%}.white-note{display:flex;justify-content:center;float:left;position:relative;cursor:pointer;color:#000;height:98%;border-radius:0 0 5px 5px;box-shadow:inset 0 0 0 hsla(0,0%,100%,.8),inset -2px -5px 3px #ccc,0 0 3px rgba(0,0,0,.5)}.white-note-pressed{box-shadow:inset 2px 0 3px rgba(0,0,0,.2),inset -5px -1px 20px rgba(0,0,0,.2),0 0 3px rgba(0,0,0,.5)}.black-note{display:flex;align-items:flex-end;justify-content:center;position:absolute;cursor:pointer;height:65%;width:65%;left:68%;z-index:1;color:#fff;border-radius:0 0 3px 3px;box-shadow:inset -1px -1px 2px hsla(0,0%,100%,.2),inset 0 -5px 2px rgba(0,0,0,.5),0 2px 4px rgba(0,0,0,.5)}.black-note-pressed{box-shadow:inset -1px -1px 2px hsla(0,0%,100%,.2),inset 0 -1px 2px rgba(0,0,0,.2),0 1px 2px rgba(0,0,0,.2)}.key-group{align-self:flex-end;display:flex;flex-direction:column;align-items:center;margin-bottom:.8vw;font-size:1.2vw}.key-text{margin-top:.8vw}.key-text-on-black-note{transform:rotate(-90deg);margin:.8vw 0;margin-top:1vw}.key-input{text-align:center;width:2em;color:inherit;font-size:1vw}.unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}",""]),e.exports=t},"73b2":function(e,t,o){"use strict";o("b6b9")},b6b9:function(e,t,o){var n=o("7383");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=o("499e").default;s("69d82ba6",n,!0,{sourceMap:!1,shadowMode:!1})},e31a:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,"*{-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;box-sizing:border-box}#app{font-family:Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;display:flex;padding:5%;justify-content:space-between;flex-direction:column;height:inherit}body,html{width:100%;height:100%;margin:0;padding:0}.piano-container{margin-left:8%;margin-right:8%;height:30%}.config-container{text-align:left}",""]),e.exports=t}});
//# sourceMappingURL=app.938d30da.js.map